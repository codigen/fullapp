(this["webpackJsonpredux-hooks-practice"]=this["webpackJsonpredux-hooks-practice"]||[]).push([[1],{11:function(e,t,n){t.PORT=Object({NODE_ENV:"production",PUBLIC_URL:""}).PORT||8080,t.CLIENT_ORIGIN=Object({NODE_ENV:"production",PUBLIC_URL:""}).CLIENT_ORIGIN},12:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(11),o="".concat(r.CLIENT_ORIGIN,"/access/register"),c="".concat(r.CLIENT_ORIGIN,"/access/login"),a="".concat(r.CLIENT_ORIGIN,"/access/tokenConfirm"),u="".concat(r.CLIENT_ORIGIN,"/access/resetPassword"),i="".concat(r.CLIENT_ORIGIN,"/access/confirmResetToken"),s="".concat(r.CLIENT_ORIGIN,"/access/passwordChange"),l="".concat(r.CLIENT_ORIGIN,"/project/fetchProjects");"".concat(r.CLIENT_ORIGIN,"/project/createProject"),"".concat(r.CLIENT_ORIGIN,"/project/deleteProject"),"".concat(r.CLIENT_ORIGIN,"/project/updateProject")},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var r=n(4),o=n.n(r),c=n(13),a=n(8),u=n.n(a),i=n(2),s=n(12),l=n(21),d=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("_id"),{type:i.g}},f=function(e){return function(t){setTimeout((function(){t(d())}),1e3*e)}},g=function(){return function(e){var t=localStorage.getItem("token");if(console.log(t),t){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e(d());else{var r=localStorage.getItem("_id");console.log(r),e(function(e,t){return{type:i.j,token:e,_id:t}}(t,r)),e(f((n.getTime()-(new Date).getTime())/1e3))}}else e(d())}},m=function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(s.f),t.prev=1,console.log("here"),t.next=5,u.a.post(s.f,e);case 5:r=t.sent,console.log(r),(r.data.success=!0)&&(n((a=r.data.msg,{type:i.h,success:a})),n((c=r.data.user,{type:i.d,loginFormDetails:c}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n((o=t.t0.response.data.msg+"-".concat((new Date).getTime()),{type:i.b,error:o}));case 13:case"end":return t.stop()}var o,c,a}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post(s.e,e);case 3:((r=t.sent).data.success=!0)&&(c=new Date((new Date).getTime()+1e3*r.data.expiresIn),localStorage.setItem("token",r.data.token),localStorage.setItem("expirationDate",c),localStorage.setItem("_id",r.data.user._id),n(E(r.data.msg)),setTimeout((function(){u.a.defaults.headers.common.Authorization=r.data.token,Object(l.a)(r.data.token),n(I(r.data.token,r.data.user._id)),n(f(r.data.expiresIn))}),5e3)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),"Something went wrong",n(_("Something went wrong"+"-".concat((new Date).getTime())));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e,t,n){return{type:i.e,token:e,_id:t,msg:n}},E=function(e){return{type:i.f,msg:e}},_=function(e){return{type:i.c,loginError:e}}},2:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return f}));var r="AUTH_START",o="AUTH_SUCCESS",c="AUTH_FAIL",a="AUTH_ERRORNULL",u="AUTH_REGISTER_SUCCESS",i="AUTH_LOGIN_PAGE",s="AUTH_LOGIN_FAIL",l="AUTH_LOGIN_SUCCESS",d="AUTH_LOGOUT",f="AUTH_LOGIN_SUCCESS_ALERT"},21:function(e,t,n){"use strict";var r=n(8),o=n.n(r);t.a=function(e){e?o.a.defaults.headers.common.Authorization=e:delete o.a.defaults.headers.common.Authorization}},29:function(e,t,n){"use strict";var r=n(16);n(4),n(13),n(8),n(2),n(12),n(21);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c}))},49:function(e,t,n){e.exports=n(79)},54:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(18),a=n.n(c),u=(n(54),n(40)),i=n(41),s=n(45),l=n(44),d=n(3),f=n(19),g=n(29),m=(n(21),o.a.lazy((function(){return Promise.all([n.e(4),n.e(7)]).then(n.bind(null,869))}))),p=o.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,902))})),I=o.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,910))})),E=o.a.lazy((function(){return n.e(9).then(n.t.bind(null,911,7))})),_=function(){return o.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},"Loading...")},h=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){console.log("Try am"),this.props.onTryAutoSignup()}},{key:"render",value:function(){var e=o.a.createElement(r.Suspense,{fallback:_()},o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:"/register",component:p}),o.a.createElement(d.b,{exact:!0,path:"/login",name:"Login",component:I}),o.a.createElement(d.a,{to:"/login"}),o.a.createElement(d.b,{exact:!0,path:"/*",name:"",component:E})));return console.log(this.props.isAuthenticated),this.props.isAuthenticated&&(e=o.a.createElement(r.Suspense,{fallback:_()},o.a.createElement(d.d,null,o.a.createElement(d.b,{path:"/project",name:"Project",component:m}),o.a.createElement(d.a,{to:"/project"})))),o.a.createElement("div",null,e)}}]),n}(r.Component),O=Object(d.h)(Object(f.b)((function(e){return{isAuthenticated:null!==e.auth.token,tokenValue:e.auth.token}}),(function(e){return{onTryAutoSignup:function(){return e(g.a())}}}))(h)),T=n(14),b=n(27),S=n(42),N=n.n(S),k=n(2),j=(n(16),n(24)),v=function(e,t){return Object(j.a)(Object(j.a)({},e),t)},L={token:null,_id:null,loading:!1,error:null,success:null,registerSuccess:null,loginFormDetails:null,loginError:null,loginSuccess:null,registerError:null},C=function(e,t){return v(e,{error:null,loading:!0})},R=function(e,t){return v(e,{registerSuccess:t.success,loading:!0})},w=function(e,t){return v(e,{token:t.idToken,_id:t._id,error:null,loading:!1})},y=function(e,t){return console.log(),v(e,{loginFormDetails:t.loginFormDetails})},A=function(e,t){return console.log(t.error),console.log(e.registerError),v(e,{registerError:t.error,loading:!1})},U=function(e,t){return v(e,{error:""})},D=function(e,t){return v(e,{token:null,_id:null,loginSuccess:null})},G=function(e,t){return v(e,{loginError:t.loginError})},x=function(e,t){return v(e,{token:t.token,_id:t._id})},P=function(e,t){return v(e,{loginSuccess:t.msg})},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.h:return R(e,t);case k.a:return U(e);case k.i:return C(e);case k.j:return w(e,t);case k.b:return A(e,t);case k.g:return D(e);case k.d:return y(e,t);case k.c:return G(e,t);case k.e:return x(e,t);case k.f:return P(e,t);default:return e}},z=n(43),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,V=Object(T.c)({auth:H}),B={key:"auth",storage:N.a,whitelist:["auth"]},M=(Object(b.a)(B,V),Object(T.e)(V,F(Object(T.a)(z.a)))),J=(Object(b.b)(M),M),X=n(23);n(78);a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f.a,{store:J},o.a.createElement(X.a,null,o.a.createElement(O,null))),","),document.getElementById("root"))}},[[49,2,5]]]);
//# sourceMappingURL=main.138d7e32.chunk.js.map