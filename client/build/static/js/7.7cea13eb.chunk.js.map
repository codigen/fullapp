{"version":3,"sources":["views/Project/Project.js"],"names":["StyledMenu","withStyles","paper","border","props","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","theme","root","backgroundColor","palette","primary","main","color","common","white","MenuItem","connect","dispatch","state","onLogout","useDispatch","userId","useSelector","auth","_id","tableIcons","Add","forwardRef","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","React","useState","anchorEl","setAnchorEl","data","setData","token","localStorage","getItem","axios","defaults","headers","useEffect","post","then","response","onRowAdd","newRow","a","updatedRows","setTimeout","catch","onRowDelete","oldData","index","i","length","splice","err","console","log","onRowUpdate","updatedRow","oldRow","title","description","deadline","budget","status","className","align","aria-controls","aria-haspopup","variant","onClick","event","currentTarget","id","keepMounted","open","Boolean","onClose","removeItem","type","AUTH_LOGOUT","fontSize","icons","columns","field","editable","lookup","1","2","3","options","actionsColumnIndex","addRowPosition"],"mappings":"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","file":"static/js/7.7cea13eb.chunk.js","sourcesContent":["import React, { useState, useEffect, forwardRef } from 'react';\nimport './Project.css';\nimport MaterialTable from 'material-table'\nimport axios from 'axios';\nimport {useSelector, connect, useDispatch } from 'react-redux';\n\n\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport DraftsIcon from '@material-ui/icons/Drafts';\nimport SendIcon from '@material-ui/icons/Send';\nimport { AUTH_LOGOUT } from '../../store/actions/actionTypes';\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: '1px solid #d3d4d5',\n  },\n})((props) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center',\n    }}\n    {...props}\n  />\n));\n\n\nconst StyledMenuItem = withStyles((theme) => ({\n  root: {\n    '&:focus': {\n      backgroundColor: theme.palette.primary.main,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white,\n      },\n    },\n  },\n}))(MenuItem);\n\nconst Project = ({onLogout}) => {\n\n\n  const dispatch = useDispatch(); \n  let userId = useSelector(state => state.auth._id);\n\n  const tableIcons = {\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\n  };\n\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [data, setData] = useState([])\n  let token =  localStorage.getItem('token');\n  // console.log(token)\n  axios.defaults.headers.common['Authorization'] = token;\n  useEffect(() => {\n    axios.post(`http://localhost:4000/project/fetchProjects`, {_id: userId} )\n      .then((response) => {\n      \n        setData(response.data.data)\n        // console.log(data)\n      })\n     \n        \n      }, [])\n \n\n  const columns = [\n    { title: \"ID\", field: \"_id\", editable: false },\n    // { title: \"Name\", field: \"name\" },\n    { title: \"Title\", field: \"title\" },\n    { title: \"Description\", field: 'description', },\n    { title: \"Deadline\", field: \"deadline\", type: 'date' },\n    // { title: \"Status\", field: \"status\", lookup: {1: \"Active\", 2: \"Done\"} },\n    { title: \"Status\", field: \"status\", lookup: {1: \"Created\", 2: \"In Progress\", 3: \"Completed\"} },\n    { title: \"Budget\", field: \"budget\", }\n  ]\n\n  const onRowAdd = async (newRow) => {\n    await axios.post(`http://localhost:4000/project/createProject`, {...newRow, _id: userId})\n    .then((response) => {\n      // console.log(response.data.data.status)\n\n      const updatedRows = [...data, response.data.data]\n      setTimeout(() => {\n        // console.log(updatedRows)\n        setData(updatedRows)\n        \n      }, 2000)\n    })\n    .catch(() => {\n\n    })\n  }\n\n  const logOut = () => {\n    console.log('here')\n    // onLogout();\n    localStorage.removeItem('token');\n    localStorage.removeItem('expirationDate');\n    localStorage.removeItem('_id');\n    axios.defaults.headers.common['Authorization'] = null;\n    dispatch({type: AUTH_LOGOUT})\n\n  }\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const onRowDelete = async (oldData) => {\n    const index = oldData._id;\n    // console.log(index)\n    const updatedRows = [...data]\n    await axios.post(`http://localhost:4000/project/deleteProject`, {_id: index})\n    .then((response) => {\n      // console.log(response)\n      setTimeout(() => {\n        for (var i = 0; i < updatedRows.length; i++) {\n          if(updatedRows[i]._id == index ) {\n            updatedRows.splice(i, 1)\n            break\n          }\n        }\n        setData(updatedRows)\n        \n      }, 2000)\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  const onRowUpdate = async (updatedRow,oldRow) => {\n    const index=oldRow._id;\n    console.log(updatedRow)\n    // console.log(index);\n    const updatedRows =[...data]\n    await axios.post(`http://localhost:4000/project/updateProject`, {_id: index, title: updatedRow.title, description: updatedRow.description, deadline:updatedRow.deadline, budget: updatedRow.budget, status: updatedRow.status})\n    .then((response) => {\n      console.log(response)\n      setTimeout(() => {\n      \n        for (var i = 0; i < updatedRows.length; i++) {\n          if(updatedRows[i]._id == index ) {\n            console.log(updatedRows[i])\n            updatedRows[i] = updatedRow\n            break\n          }\n        }\n  \n        setData(updatedRows)\n\n      }, 2000)\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  \n  }\n\n  return (\n    <div className=\"App\">\n      <h1 align=\"center\">Project Management App</h1>\n      {/* <PowerSettingsNewIcon/> */}\n\n      <div className=\"more\"> \n      <Button\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={handleClick}\n        className=\"more\"\n        // style = {\"display: flex; justify-content:flex-end\"}\n      >\n        More\n      </Button>\n      <StyledMenu\n        id=\"customized-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        \n        <StyledMenuItem\n        onClick={logOut} \n        >\n          <ListItemIcon>\n            <PowerSettingsNewIcon\n            \n            fontSize=\"small\"/>\n          </ListItemIcon>\n          <ListItemText\n           primary=\"Logout\" \n           \n           />\n        </StyledMenuItem>\n        {/* <StyledMenuItem>\n          <ListItemIcon>\n            <InboxIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Inbox\" />\n        </StyledMenuItem> */}\n      </StyledMenu>\n    </div>\n\n\n      <MaterialTable\n        title=\"Project Data\"\n        data={data}\n        icons={tableIcons}\n        columns={columns}\n        editable={{\n          onRowAdd,\n          onRowDelete,\n          onRowUpdate\n\n        }}\n        options={{\n          actionsColumnIndex: -1, addRowPosition: \"first\"\n        }}\n      />\n    </div>\n  );\n}\n\nconst mapStateToProps = state => {\n\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n     \n  };\n};\n\n\nexport default connect( mapDispatchToProps,mapStateToProps )( Project );\n"],"sourceRoot":""}